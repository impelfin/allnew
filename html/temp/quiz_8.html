<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>리터럴 표기법으로 Book 객체 만들기</title>
    <script>
      function Book(title, author, totalPage, category, price) {
        this.title = title;
        this.author = author;
        this.totalPage = totalPage;
        this.category = category;
        this.price = price;
        leftover = totalPage;
        rentalState = 1;
        rentalUser = "";
        rentalDay = 0;

        this.reading = function (page) {
          this.leftover -= page;
          return this.leftover;
        };

        this.rental = function (user, day) {
          this.rentalUser = user;
          this.rentalDay = day;
          this.rentalState = 0;
          return this.rentalState;
        };
      }
    </script>
  </head>
  <body>
    <h3>리터럴 표기법으로 Book 객체 만들기</h3>
    <hr />
    <script>
      let book = new Book("스며드는 리눅스", "문준현", 350, "IT", 30000);

      document.write("Book : " + "<br>");
      document.write("제목 : " + book.title + "<br>");
      document.write("저자 : " + book.author + "<br>");
      document.write("장르 : " + book.category + "<br>");
      document.write("가격 : " + book.price + "원 <br>");
      document.write("<hr />");

      document.write(
        "현재 전체 페이지 " +
          book.totalPage +
          " 중 잔여 페이지가 " +
          book.reading(50) +
          "페이지 남으셨습니다. <br><hr />"
      );

      book.rental("임예준", 30);
      let state = { 0: "대여중", 1: "대여가능" };
      document.write(
        "현재 " +
          book.title +
          "는 " +
          book.rentalUser +
          "님에게 " +
          book.rentalDay +
          "일 동안 " +
          state[book.rentalState] +
          "입니다."
      );
    </script>
  </body>
</html>
